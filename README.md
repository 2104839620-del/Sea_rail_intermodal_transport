# 海铁联运智能调度系统

## 项目简介
海铁联运智能调度系统是一款基于Streamlit开发的Web应用，采用改进的离散粒子群算法（PSO），针对集装箱海铁联运场景，实现场桥、ART（自动导引车）、轨道吊的智能调度优化。系统核心目标是最小化作业完工时间，同时保证设备工作量均衡，为港口、物流枢纽提供高效、可靠的调度解决方案。

## 核心功能
1. **动态设备配置优化**：根据集装箱数量，自动搜索场桥、ART、轨道吊的最优配置组合；
2. **多轮调度算法优化**：采用改进离散PSO算法，支持多轮迭代优化，自动提升调度方案质量；
3. **性能分级评估**：从完工时间、设备均衡度双维度，给出优秀/良好/一般/较差四级评级；
4. **可视化结果展示**：直观呈现完工时间、作业效率、设备配置、优化历史等核心数据；
5. **便捷参数配置**：支持自定义集装箱数量、算法参数、优化轮次，适配不同作业场景。

## 技术栈
- 开发框架：Streamlit（Web界面快速搭建）
- 核心算法：改进的离散粒子群算法（PSO）
- 数据处理：NumPy（数值计算）、Pandas（数据展示）
- 可视化：Matplotlib（中文字体配置，预留扩展）
- 辅助工具：Python标准库（threading、socket、webbrowser等）

## 环境准备
### 1. 安装Python
要求Python 3.7及以上版本，下载地址：https://www.python.org/  
安装时勾选「Add Python to PATH」，确保环境变量配置成功。

### 2. 安装依赖库
打开命令提示符（Windows）或终端（Mac/Linux），输入以下命令：
```bash
# 基础安装命令
pip install streamlit numpy matplotlib pandas

# 国内镜像源（安装速度更快）
pip install streamlit numpy matplotlib pandas -i https://pypi.tuna.tsinghua.edu.cn/simple
```

## 快速启动
1. **保存代码**：将系统代码保存为Python文件（建议命名为 `schedule_system.py`）；
2. **进入文件目录**：打开命令提示符/终端，切换到代码文件所在目录（示例）：
   ```bash
   # Windows示例（文件保存在桌面）
   cd C:\Users\HP\Desktop

   # Mac/Linux示例（文件保存在桌面）
   cd ~/Desktop
   ```
3. **启动系统**：输入以下命令，启动Web应用：
   ```bash
   streamlit run schedule_system.py
   ```
4. **访问系统**：
   - 命令执行后，终端会显示访问地址（默认：`http://localhost:8501`）；
   - 手动复制地址粘贴到浏览器，即可打开系统界面（支持Chrome、Edge、Firefox等主流浏览器）。

## 使用说明
### 1. 参数配置（侧边栏）
- **集装箱数量**：滑动选择10-500箱，适配小/中/大批量作业；
- **算法参数**：
  - 种群规模：30-150（数值越大，搜索范围越广，计算时间越长）；
  - 迭代次数：50-500（数值越大，优化精度越高，计算时间越长）；
- **优化目标**：
  - 勾选「自动持续优化直到获得良好评级」，系统会自动迭代优化，直到达到目标评级；
  - 最大优化轮次：1-10轮，控制自动优化的最大次数。

### 2. 启动优化
点击侧边栏「🚀 开始优化调度」按钮，系统将自动执行：
1. 生成任务位置（随机分配集装箱的泊位、堆位）；
2. 搜索最优设备配置（场桥/ART/轨道吊数量组合）；
3. 多轮算法优化（逐步提升参数强度，优化调度方案）；
4. 输出优化结果（完工时间、效率、配置、评级等）。

### 3. 结果查看
优化完成后，主界面将展示：
- 综合评级卡片：显示最终评级、完工时间、作业效率、最优设备配置、均衡度；
- 优化历史记录：表格形式呈现每轮优化的参数、结果、计算时间，支持对比分析。

## 注意事项
1. 运行时请勿关闭命令提示符/终端，否则系统服务会停止；
2. 若提示「端口被占用」，可重启电脑或关闭占用8501端口的程序，再重新启动；
3. 大批量集装箱（200箱以上）优化时，计算时间较长，建议适当降低种群规模和迭代次数；
4. 系统支持本地访问和局域网访问，局域网内其他设备可通过「网络访问地址」连接（需确保设备在同一网络）。

## 常见问题
### Q1：提示「找不到文件」？
A1：确保命令行目录与代码文件保存目录一致，或使用绝对路径启动（示例）：
```bash
streamlit run "C:\Users\HP\Desktop\schedule_system.py"
```
（路径含中文/空格时，需用双引号括起）

### Q2：中文字体显示乱码？
A2：代码已配置中文字体（SimHei、Microsoft YaHei），若仍乱码，需确保系统安装对应中文字体，或替换代码中`plt.rcParams['font.sans-serif']`的字体名称为系统已安装的中文字体。

### Q3：优化时间过长？
A3：可适当降低「种群规模」「迭代次数」「最大优化轮次」，或减少集装箱数量。

## 版权信息
海铁联运智能调度系统 © 2025 | 完整功能版本
